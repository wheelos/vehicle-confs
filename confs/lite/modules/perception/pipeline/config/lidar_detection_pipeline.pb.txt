pipeline_type: LIDAR_DETECTION

stage_type: POINTCLOUD_PREPROCESSOR
stage_type: POINTCLOUD_DETECTION_PREPROCESSOR
stage_type: MAP_MANAGER
stage_type: CENTER_POINT_DETECTION
stage_type: POINTCLOUD_DETECTION_POSTPROCESSOR
stage_type: OBJECT_BUILDER
stage_type: OBJECT_FILTER_BANK

stage_config: {
  stage_type: POINTCLOUD_PREPROCESSOR
  enabled: true

  pointcloud_preprocessor_config: {
    filter_naninf_points: true
    filter_nearby_box_points: true
    box_forward_x: 1.0
    box_backward_x: -1.0
    box_forward_y: 3.1
    box_backward_y: -1.21
    filter_high_z_points: true
    z_threshold: 2.5
  }
}

stage_config: {
  stage_type: POINTCLOUD_DETECTION_PREPROCESSOR
  enabled: false

  plugin_config: {
    plugin_type: POINTCLOUD_DOWN_SAMPLE
    enabled: true

    pointcloud_downsample_config: {
      enable_downsample_pointcloud : true
      enable_downsample_beams : true
      x_min_range : -74.88
      x_max_range : 74.88
      y_min_range : -74.88
      y_max_range : 74.88
      z_min_range : -2.0
      z_max_range : 4.0
    }
  }

  pointcloud_detection_preprocessor_config:{

  }
}

stage_config: {
  stage_type: MAP_MANAGER
  enabled: true

  map_manager_config: {
    update_pose: false
    roi_search_distance: 120.0
  }
}

stage_config: {
  stage_type: CENTER_POINT_DETECTION
  enabled: true
}

stage_config: {
  stage_type: POINTCLOUD_DETECTION_POSTPROCESSOR
  enabled: false

  plugin_config: {
    plugin_type: POINTCLOUD_GET_OBJECTS
    enabled: true

    pointcloud_get_objects_config:{

    }
  }
}

stage_config: {
  stage_type: OBJECT_BUILDER
  enabled: true

  object_builder_config: {

  }
}

stage_config: {
  stage_type: OBJECT_FILTER_BANK
  enabled: true

  plugin_config: {
    plugin_type: ROI_BOUNDARY_FILTER
    enabled: true

    roi_boundary_filter_config: {
      distance_to_boundary_threshold: 1.0
      confidence_threshold: 0.5
      cross_roi_threshold: 0.6
      inside_threshold: 0.0
    }
  }

  object_filter_bank_config: {

  }
}

lidar_detection_config: {

}
